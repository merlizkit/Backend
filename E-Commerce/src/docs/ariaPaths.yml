paths:
# --------------------------------- productos -------------------------------- #
  /api/products:
    get:
      tags:
      - Products
      summary: Obtener todos los productos
      responses:
        200:
          description: OK
          schema:
            type: array
            items:
              $ref: "#/definitions/Product"
    post:
      tags:
      - Products
      summary: Crear un nuevo producto
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/Product"
      responses:
        201:
          description: Creado

  /api/products/{pid}:
    get:
      tags:
      - Products
      summary: Obtener un producto por ID
      parameters:
        - name: pid
          in: path
          required: true
          type: integer
      responses:
        200:
          description: OK
          schema:
            $ref: "#/definitions/Product"
    put:
      tags:
      - Products
      summary: Actualizar un producto por ID
      parameters:
        - name: pid
          in: path
          required: true
          type: integer
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/Product"
      responses:
        200:
          description: OK
    delete:
      tags:
      - Products
      summary: Eliminar un producto por ID
      parameters:
        - name: pid
          in: path
          required: true
          type: integer
      responses:
        204:
          description: Sin contenido

# ---------------------------------- carros ---------------------------------- #
  /api/carts/{cid}:
    get:
      tags:
      - Carts
      summary: Obtener un carrito por ID
      parameters:
        - name: cid
          in: path
          required: true
          type: string
      responses:
        200:
          description: OK
          schema:
            $ref: "#/definitions/Cart"
    post:
      tags:
      - Carts
      summary: Crear un nuevo carrito
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/Cart"
      responses:
        201:
          description: Creado
    put:
      tags:
      - Carts
      summary: Reemplazar un carrito por ID
      parameters:
        - name: cid
          in: path
          required: true
          type: string
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/Cart"
      responses:
        200:
          description: OK
    delete:
      tags:
      - Carts
      summary: Vaciar un carrito por ID
      parameters:
        - name: cid
          in: path
          required: true
          type: string
      responses:
        204:
          description: Sin contenido

  /api/carts/{cid}/products/{pid}:
    post:
      tags:
      - Carts
      summary: Actualizar carrito con un nuevo producto
      parameters:
        - name: cid
          in: path
          required: true
          type: string
        - name: pid
          in: path
          required: true
          type: string
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/CartProduct"
      responses:
        200:
          description: OK
    put:
      tags:
      - Carts
      summary: Actualizar la cantidad de un producto en el carrito
      parameters:
        - name: cid
          in: path
          required: true
          type: string
        - name: pid
          in: path
          required: true
          type: string
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/CartProduct"
      responses:
        200:
          description: OK
    delete:
      tags:
      - Carts
      summary: Eliminar un producto del carrito
      parameters:
        - name: cid
          in: path
          required: true
          type: string
        - name: pid
          in: path
          required: true
          type: string
      responses:
        204:
          description: Sin contenido

  /api/carts/{cid}/purchase:
    put:
      tags:
      - Carts
      summary: Generar un ticket de compra para el carrito
      parameters:
        - name: cid
          in: path
          required: true
          type: string
      responses:
        200:
          description: OK

# ---------------------------------- tickets --------------------------------- #
  /api/tickets:
    post:
      tags:
      - Tickets
      summary: Crear un nuevo ticket
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/Ticket"
      responses:
        201:
          description: Creado

# --------------------------------- usuarios --------------------------------- #
  /users/register:
    post:
      tags:
      - Users
      summary: Registrar un nuevo usuario
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/User"
      responses:
        201:
          description: Creado

  /users/login:
    post:
      tags:
      - Users
      summary: Iniciar sesión de usuario
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/User"
      responses:
        200:
          description: Inicio de sesión exitoso

  /users/logout:
    post:
      tags:
      - Users
      summary: Cerrar sesión de usuario
      responses:
        200:
          description: Cierre de sesión exitoso

  /users/private:
    post:
      tags:
      - Users
      summary: Ruta privada de usuario
      responses:
        200:
          description: Ruta privada

  /users/reset-pass:
    post:
      tags:
      - Users
      summary: Restablecer contraseña de usuario
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/User"
      responses:
        200:
          description: Contraseña restablecida exitosamente

  /users/new-pass:
    put:
      tags:
      - Users
      summary: Actualizar contraseña de usuario
      parameters:
        - name: body
          in: body
          required: true
          schema:
            $ref: "#/definitions/User"
      responses:
        200:
          description: Contraseña actualizada exitosamente

  /users/premium/{uid}:
    put:
      tags:
      - Users
      summary: Actualizar rol de usuario a premium
      parameters:
        - name: uid
          in: path
          required: true
          type: string
      responses:
        200:
          description: Rol de usuario actualizado a premium

  /users/github:
    get:
      tags:
      - Users
      summary: Autenticación de usuario con GitHub
      responses:
        200:
          description: Autenticación con GitHub exitosa

  /users/githubcallback:
    get:
      tags:
      - Users
      summary: Callback de autenticación con GitHub
      responses:
        200:
          description: Callback de autenticación con GitHub exitoso