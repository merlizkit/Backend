error | 20231003 11:25:51 | Prueba logger error
fatal | 20231003 11:25:51 | Prueba logger fatal
error | 20231003 11:25:58 | Prueba logger error
fatal | 20231003 11:25:58 | Prueba logger fatal
error | 20231014 11:48:31 | Cannot access 'user' before initialization
error | 20231014 11:52:05 | UserDao.resetPass is not a constructor
error | 20231014 12:28:14 | UserDao.resetPass is not a constructor
error | 20231014 12:28:39 | UserDao.resetPass is not a constructor
error | 20231014 12:29:57 | UserDao.resetPass is not a constructor
error | 20231014 12:32:18 | token is not defined
error | 20231014 12:34:19 | userServices resetPass
error | 20231014 12:34:40 | userServices resetPass UserDao.resetPass is not a constructor
error | 20231014 12:36:13 | token is not defined
error | 20231014 12:36:48 | token is not defined
error | 20231014 12:37:06 | token is not defined
error | 20231014 12:37:30 | token is not defined
error | 20231014 12:37:57 | token is not defined
error | 20231014 12:38:14 | token is not defined
error | 20231014 12:38:46 | token is not defined
error | 20231014 12:39:19 | token is not defined
error | 20231014 12:39:35 | token is not defined
error | 20231014 12:39:58 | token is not defined
error | 20231014 12:40:20 | token is not defined
error | 20231014 12:40:55 | token is not defined
error | 20231014 12:41:12 | token is not defined
error | 20231014 12:41:41 | token is not defined
error | 20231014 12:42:11 | token is not defined
error | 20231014 12:43:50 | token is not defined
error | 20231127 20:51:24 | Cannot destructure property 'email' of 'req.user' as it is undefined.
error | 20231127 21:02:33 | Cart update error: An error occurred while fetching the cart
    at CustomError.createError (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/errors/customErrors.js:3:23)
    at CartDaoMongoDB.getCartById (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/persistence/daos/mongodb/cartDao.js:37:25)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Module.getCartById (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/cartServices.js:19:22)
    at async getCart (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/viewControllers.js:17:26)
error | 20231127 21:06:22 | Cart update error: An error occurred while fetching the cart
    at CustomError.createError (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/errors/customErrors.js:3:23)
    at CartDaoMongoDB.getCartById (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/persistence/daos/mongodb/cartDao.js:37:25)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Module.getCartById (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/cartServices.js:19:22)
    at async getCart (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/viewControllers.js:17:26)
error | 20231127 22:16:25 | Error: ReferenceError: config is not defined
    at ProductDaoMongoDB.getProductsPag (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/persistence/daos/mongodb/productDao.js:76:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Module.getAll (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/productServices.js:10:26)
    at async getAll (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/viewControllers.js:7:26)
    at ProductDaoMongoDB.getProductsPag (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/persistence/daos/mongodb/productDao.js:88:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Module.getAll (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/productServices.js:10:26)
    at async getAll (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/viewControllers.js:7:26)
error | 20231127 23:08:11 | productController TypeError: Cannot read properties of undefined (reading 'map')
    at create (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/productContollers.js:32:42)
    at Layer.handle [as handle_request] (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\route.js:144:13)
    at multerMiddleware (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\multer\lib\make-middleware.js:13:41)
    at Layer.handle [as handle_request] (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\route.js:144:13)
    at isAuth (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/middlewares/isAuth.js:11:77)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
error | 20231127 23:08:48 | productController TypeError: Cannot read properties of undefined (reading 'map')
    at create (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/productContollers.js:32:42)
    at Layer.handle [as handle_request] (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\route.js:144:13)
    at multerMiddleware (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\multer\lib\make-middleware.js:13:41)
    at Layer.handle [as handle_request] (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\route.js:144:13)
    at isAuth (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/middlewares/isAuth.js:11:77)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
error | 20231127 23:09:53 | productController ReferenceError: thumbnails is not defined
    at create (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/productContollers.js:36:36)
    at Layer.handle [as handle_request] (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\route.js:144:13)
    at multerMiddleware (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\multer\lib\make-middleware.js:13:41)
    at Layer.handle [as handle_request] (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\route.js:144:13)
    at isAuth (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/middlewares/isAuth.js:11:77)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
error | 20231127 23:35:35 | Error: Error: ReferenceError: ISODate is not defined
    at UserDao.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/persistence/daos/mongodb/userDao.js:159:57)
    at Module.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/userServices.js:85:30)
    at removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:149:40)
    at Layer.handle [as handle_request] (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\route.js:144:13)
    at isAuth (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/middlewares/isAuth.js:24:74)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at UserDao.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/persistence/daos/mongodb/userDao.js:168:19)
    at Module.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/userServices.js:85:30)
    at removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:149:40)
    at Layer.handle [as handle_request] (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\route.js:144:13)
    at isAuth (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/middlewares/isAuth.js:24:74)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at Module.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/userServices.js:87:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:149:26)
error | 20231127 23:45:10 | Error: Error: ReferenceError: today is not defined
    at UserDao.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/persistence/daos/mongodb/userDao.js:159:62)
    at Module.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/userServices.js:85:30)
    at removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:149:40)
    at Layer.handle [as handle_request] (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\route.js:144:13)
    at isAuth (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/middlewares/isAuth.js:24:74)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at UserDao.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/persistence/daos/mongodb/userDao.js:169:19)
    at Module.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/userServices.js:85:30)
    at removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:149:40)
    at Layer.handle [as handle_request] (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\route.js:144:13)
    at isAuth (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/middlewares/isAuth.js:24:74)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at Module.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/userServices.js:87:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:149:26)
error | 20231127 23:47:13 | Cannot destructure property 'id' of 'req.user' as it is undefined.
error | 20231128 00:17:49 | TypeError: Cannot read properties of undefined (reading 'status')
    at createResponse (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/utils.js:31:71)
    at checkToken (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:74:29)
    at updatePass (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:59:28)
    at Layer.handle [as handle_request] (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\layer.js:95:5)
    at D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\index.js:280:10)
error | 20231128 00:29:52 | TypeError: Cannot read properties of undefined (reading 'status')
    at createResponse (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/utils.js:31:71)
    at checkToken (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:74:29)
    at updatePass (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:59:28)
    at Layer.handle [as handle_request] (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\layer.js:95:5)
    at next (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\route.js:144:13)
    at Route.dispatch (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\route.js:114:3)
    at Layer.handle [as handle_request] (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\layer.js:95:5)
    at D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\index.js:284:15
    at Function.process_params (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\index.js:346:12)
    at next (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\express\lib\router\index.js:280:10)
error | 20231128 00:34:33 | Cannot destructure property 'id' of 'req.user' as it is undefined.
error | 20231128 00:45:18 | Error: Error: Error: CastError: Cast to date failed for value "{
  '$dateSubtract': { startDate: 2023-11-28T03:45:18.623Z, unit: 'day', amount: 2 }
}" (type Object) at path "last_connection" for model "users"
    at SchemaDate.cast (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\schema\date.js:376:11)
    at SchemaDate.handleSingle (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\schema\date.js:388:15)
    at SchemaDate.castForQuery (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\schema\date.js:419:18)
    at cast (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\cast.js:352:39)
    at cast (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\cast.js:73:20)
    at Query.cast (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\query.js:4910:12)
    at Query._castConditions (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\query.js:2232:10)
    at model.Query._find (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\query.js:2258:8)
    at model.Query.exec (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\query.js:4430:28)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at UserDao.find (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/persistence/daos/mongodb/mongoDao.js:29:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async UserDao.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/persistence/daos/mongodb/userDao.js:175:29)
    at async Module.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/userServices.js:85:16)
    at async removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:149:26)
    at UserDao.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/persistence/daos/mongodb/userDao.js:183:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Module.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/userServices.js:85:16)
    at async removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:149:26)
    at Module.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/userServices.js:87:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:149:26)
error | 20231128 01:04:27 | Cannot destructure property 'id' of 'req.user' as it is undefined.
error | 20231128 01:04:45 | Error: Error: Error: CastError: Cast to date failed for value "{
  '$dateSubtract': { startDate: 2023-11-28T04:04:45.155Z, unit: 'day', amount: 2 }
}" (type Object) at path "last_connection" for model "users"
    at SchemaDate.cast (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\schema\date.js:376:11)
    at SchemaDate.handleSingle (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\schema\date.js:388:15)
    at SchemaDate.castForQuery (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\schema\date.js:419:18)
    at cast (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\cast.js:352:39)
    at cast (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\cast.js:73:20)
    at Query.cast (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\query.js:4910:12)
    at Query._castConditions (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\query.js:2232:10)
    at model.Query._find (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\query.js:2258:8)
    at model.Query.exec (D:\Personal\Coder\Backend\Desafíos\E-Commerce\node_modules\mongoose\lib\query.js:4430:28)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at UserDao.find (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/persistence/daos/mongodb/mongoDao.js:29:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async UserDao.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/persistence/daos/mongodb/userDao.js:175:29)
    at async Module.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/userServices.js:85:16)
    at async removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:149:26)
    at UserDao.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/persistence/daos/mongodb/userDao.js:183:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async Module.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/userServices.js:85:16)
    at async removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:149:26)
    at Module.removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/services/userServices.js:87:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async removeOld (file:///D:/Personal/Coder/Backend/Desaf%C3%ADos/E-Commerce/src/controllers/userControllers.js:149:26)
